import{n,o as p,p as c,q as L}from"./chunk-ZL6F2LW5.js";import{Db as s,Eb as b,J as f,M as A,Mb as x,N as v,Nb as I,Tb as S,Ub as j,Vb as E,a as i,b as a,cb as O,n as F,p as u,q as l,s as d,w as g}from"./chunk-RW7BJWYE.js";var m=class t{constructor(r){this.http=r}getFavorites(){return this.http.get(`${x}/favorite`).pipe(u(I))}static \u0275fac=function(o){return new(o||t)(A(O))};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})};var y=class t{getFavorites$=S((r=v(j),o=v(m))=>r.pipe(E(n),d(()=>o.getFavorites().pipe(l(e=>p({favorites:e})),g(e=>F(c({error:e.message})))))));static \u0275fac=function(o){return new(o||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})};var R={isLoading:!1,favorites:[],error:null},z=b(R,s(n,t=>a(i({},t),{isLoading:!0})),s(p,(t,r)=>a(i({},t),{isLoading:!1,favorites:r.favorites})),s(c,(t,r)=>a(i({},t),{isLoading:!1,error:r.error})),s(L,(t,r)=>{let o=t.favorites.map(e=>e.id===r.id?a(i({},e),{isFavorite:r.status}):e);return r.status?a(i({},t),{favorites:o}):a(i({},t),{favorites:o.filter(e=>e.id!==r.id)})}));export{y as a,z as b};
