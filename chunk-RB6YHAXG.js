import{f as P}from"./chunk-WPGPD6B2.js";import{Gb as c,Ib as i,Jb as b,K as n,N as F,O as g,Rb as I,Sb as L,Yb as E,Zb as j,_b as M,a as o,b as f,fb as v,n as x,p as A,q as d,s as y,vb as s,w as S,wb as a}from"./chunk-YM7BC6NY.js";var p=s("[Main Offers Page] Get Offers"),m=s("[Main Offers Page] Get Offers Success",a()),O=s("[Main Offers Page] Get Offers Failure",a()),R=s("[Main Offers Page] Set Current City",a());var u=class r{constructor(e){this.http=e}getOffers(){return this.http.get(`${I}/offers`).pipe(A(L))}static \u0275fac=function(t){return new(t||r)(F(v))};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};var T=class r{getOffers$=E((e=g(j),t=g(u))=>e.pipe(M(p),y(()=>t.getOffers().pipe(d(l=>m({offers:l})),S(l=>x(O({error:l.message})))))));static \u0275fac=function(t){return new(t||r)};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};var C=r=>r.OFFERS_DATA,U=c(C,r=>r.offers),$=c(C,r=>r.currentCity),er=c(U,$,(r,e)=>r.filter(t=>t.city.name===e)),tr=c(C,r=>r.isLoading);var k={isLoading:!1,offers:[],error:null,currentCity:"Paris"},nr=b(k,i(R,(r,e)=>f(o({},r),{currentCity:e.city})),i(p,r=>f(o({},r),{isLoading:!0})),i(m,(r,e)=>f(o({},r),{isLoading:!1,offers:e.offers})),i(O,(r,e)=>f(o({},r),{isLoading:!1,error:e.error})),i(P,(r,e)=>f(o({},r),{offers:r.offers.map(t=>t.id===e.id?f(o({},t),{isFavorite:!t.isFavorite}):t)})));export{p as a,R as b,T as c,$ as d,er as e,tr as f,nr as g};
